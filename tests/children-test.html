<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–¢–µ—Å—Ç: –°–∫–æ–ª—å–∫–æ —É –º–µ–Ω—è –±—É–¥–µ—Ç –¥–µ—Ç–µ–π? - BPD tests</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@700;900&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background: #0a0a0a;
        color: #ffffff;
        overflow-x: hidden;
      }

      .display-font {
        font-family: "Playfair Display", serif;
      }

      .dynamic-bg {
        position: fixed;
        inset: 0;
        background: #0a0a0a;
        overflow: hidden;
      }

      .dynamic-bg::before {
        content: "";
        position: absolute;
        width: 150%;
        height: 150%;
        top: -25%;
        left: -25%;
        background: radial-gradient(
            circle at 25% 25%,
            rgba(59, 130, 246, 0.1) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 75% 75%,
            rgba(16, 185, 129, 0.1) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 50% 50%,
            rgba(236, 72, 153, 0.05) 0%,
            transparent 60%
          );
      }

      .glass-panel {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(25px) saturate(150%);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
      }

      a,
      .transition-colors {
        transition: color 0.4s ease;
      }

      .transition-transform {
        transition: transform 0.4s ease;
      }

      .option-card,
      .btn-premium {
        /* Performance hint for the browser */
        will-change: transform, background, border-color;
      }

      .option-card {
        background: rgba(255, 255, 255, 0.03);
        border: 2px solid rgba(255, 255, 255, 0.1);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .option-card:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(59, 130, 246, 0.5);
        transform: translateY(-2px);
      }

      .option-card.selected {
        background: linear-gradient(
          135deg,
          rgba(59, 130, 246, 0.2),
          rgba(16, 185, 129, 0.2)
        );
        border-color: rgba(59, 130, 246, 0.6);
      }

      input[type="radio"] {
        display: none;
      }

      .btn-premium {
        position: relative;
        background: linear-gradient(135deg, #3b82f6 0%, #10b981 100%);
        color: white;
        padding: 20px 60px;
        border-radius: 16px;
        font-weight: 700;
        font-size: 18px;
        transition: all 0.4s ease;
      }

      .progress-container {
        position: sticky;
        top: 80px;
        z-index: 40;
        padding: 1rem 0;
        background: rgba(10, 10, 10, 0.7);
        backdrop-filter: blur(8px);
        margin-bottom: 2rem;
        border-radius: 1rem;
      }

      .progress-bar {
        height: 6px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
        overflow: hidden;
        width: 90%;
        margin: 0 auto;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #3b82f6, #10b981);
        border-radius: 3px;
        transition: width 0.5s ease;
      }

      .gradient-text {
        background: linear-gradient(
          135deg,
          #3b82f6 0%,
          #10b981 50%,
          #f59e0b 100%
        );
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        background-size: 200% 200%;
        animation: gradient-shift 3s ease infinite;
      }

      @keyframes gradient-shift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .fade-in {
        animation: fadeIn 0.5s ease-out;
      }

      .fade-out {
        animation: fadeOut 0.5s ease-in forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: translateY(0);
        }
        to {
          opacity: 0;
          transform: translateY(-20px);
          visibility: hidden;
        }
      }

      .timeline-item {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeIn 0.5s ease-out forwards;
      }

      /* --- Mobile Optimizations --- */
      @media (max-width: 768px) {
        .glass-panel,
        .progress-container {
          /* Remove the most expensive properties on mobile */
          backdrop-filter: none;
          background: rgba(
            20,
            20,
            22,
            0.85
          ); /* Use a solid background instead */
          border-color: rgba(255, 255, 255, 0.15);
        }

        .dynamic-bg {
          display: none; /* Disable the animated background on mobile */
        }
      }
    </style>
  </head>
  <body>
    <div class="dynamic-bg"></div>

    <div class="relative z-10 min-h-screen flex flex-col">
      <!-- Navigation -->
      <nav class="glass-panel fixed top-0 w-full z-50 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
          <a href="../../index.html" class="flex items-center space-x-2 group">
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-sky-500 to-green-500 flex items-center justify-center group-hover:scale-110 transition-transform"
            >
              <span class="text-white font-bold text-xl">Œ®</span>
            </div>
            <span class="text-xl font-semibold">BPD tests</span>
          </a>
          <div class="flex items-center space-x-6">
            <a href="../../index.html" class="hover:text-purple-400"
              >‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ—Å—Ç–∞–º</a
            >
          </div>
        </div>
      </nav>

      <!-- Main Content -->
      <div
        class="container mx-auto max-w-5xl px-4 sm:px-6 md:px-8 pt-24 pb-20 flex-grow"
      >
        <!-- Test Header -->
        <header class="text-center mb-12 fade-in" style="margin-top: 80px">
          <h1
            class="display-font text-5xl sm:text-6xl md:text-7xl font-bold mb-4"
          >
            –¢–µ—Å—Ç: <span class="gradient-text">–°–∫–æ–ª—å–∫–æ —É –º–µ–Ω—è –±—É–¥–µ—Ç –¥–µ—Ç–µ–π?</span>
          </h1>
          <p class="text-center text-gray-500 -mt-4 mb-8">
            –ê–Ω–∞–ª–∏–∑ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –≤–∞—à–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∏ –æ—â—É—â–µ–Ω–∏—è—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –Ω–µ–¥–µ–ª–∏.
          </p>
        </header>

        <!-- Test Container -->
        <main id="test-container" class="fade-in">
          <!-- Progress Bar Container -->
          <div class="progress-container" id="progress-container">
            <div class="progress-bar" id="progress-bar">
              <div
                class="progress-fill"
                id="progress-fill"
                style="width: 0%"
              ></div>
            </div>
          </div>

          <form
            id="children-test-form"
            class="glass-panel rounded-3xl p-8 md:p-12 shadow-2xl space-y-10"
          ></form>

          <div class="mt-16 text-center">
            <button type="submit" form="children-test-form" class="btn-premium">
              <span class="relative z-10">–£–∑–Ω–∞—Ç—å —Å–≤–æ—ë –±—É–¥—É—â–µ–µ</span>
            </button>
          </div>
        </main>

        <!-- Results Container -->
        <div id="results-container" class="hidden mt-16">
          <div
            class="glass-panel rounded-3xl p-8 md:p-12 shadow-2xl text-center"
          >
            <h2
              class="display-font text-4xl md:text-5xl font-bold mb-4"
              id="result-title"
            ></h2>
            <p
              id="result-description"
              class="text-gray-300 text-lg leading-relaxed max-w-3xl mx-auto mb-12"
            ></p>

            <div
              id="timeline-container"
              class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center"
            >
              <!-- Timeline items will be injected here -->
            </div>
          </div>

          <div class="mt-12 text-center space-y-4">
            <button onclick="location.reload()" class="btn-premium">
              –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –∑–∞–Ω–æ–≤–æ
            </button>
            <div>
              <a
                href="../../index.html"
                class="text-purple-400 hover:text-purple-300"
              >
                –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Ç–µ—Å—Ç–æ–≤ ‚Üí
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer class="glass-panel mt-auto py-8 px-6">
        <div class="max-w-7xl mx-auto">
          <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="text-center md:text-left mb-4 md:mb-0">
              <p class="text-gray-400">¬© 2025 BPD tests. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    <script>
      const questions = [
        {
          q: "–ú—ã—Å–ª—å –æ —Ç–æ–º, —á—Ç–æ –∫—Ç–æ-—Ç–æ –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å —Ç–µ–±—è '—Ä–æ–¥–∏—Ç–µ–ª—å', –≤—ã–∑—ã–≤–∞–µ—Ç —É —Ç–µ–±—è...",
          a: "emotion",
        },
        {
          q: "–ì–æ—Ç–æ–≤(–∞) –ª–∏ —Ç—ã –ø—Ä–æ–º–µ–Ω—è—Ç—å —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã–µ –≤—ã–ª–∞–∑–∫–∏ —Å –¥—Ä—É–∑—å—è–º–∏ –Ω–∞ –≤–µ—á–µ—Ä —Å –¥–µ—Ç—Å–∫–∏–º–∏ —Å–∫–∞–∑–∫–∞–º–∏?",
          a: "sacrifice",
        },
        {
          q: "–í–∏–¥–∏—à—å –ª–∏ —Ç—ã —Å–µ–±—è —á–µ–ª–æ–≤–µ–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å –¥–µ—Ç—Å–∫—É—é –º–µ–±–µ–ª—å, –Ω–µ —Å–æ–π–¥—è —Å —É–º–∞?",
          a: "skills",
        },
        {
          q: "–¢–µ–±—è —É–º–∏–ª—è—é—Ç –¥–µ—Ç—Å–∫–∏–µ —Ä–∏—Å—É–Ω–∫–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∫–∞–ª—è–∫–∞-–º–∞–ª—è–∫–∞?",
          a: "reaction",
        },
        {
          q: "–ì–æ—Ç–æ–≤(–∞) –ª–∏ —Ç—ã –∫ —Ç–æ–º—É, —á—Ç–æ –±—é–¥–∂–µ—Ç –Ω–∞ —Ö–æ–±–±–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ –±—é–¥–∂–µ—Ç –Ω–∞ –ø–æ–¥–≥—É–∑–Ω–∏–∫–∏?",
          a: "finance",
        },
        {
          q: "–ò–¥–µ—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –≤ –¥–µ—Ç—Å–∫–æ–º –ø–∞—Ä–∫–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π –∫–∞–∂–µ—Ç—Å—è —Ç–µ–±–µ...",
          a: "weekend",
        },
        {
          q: "–°–ø–æ–∫–æ–π–Ω–æ –ª–∏ —Ç—ã –æ—Ç–Ω–æ—Å–∏—à—å—Å—è –∫ –¥–µ—Ç—Å–∫–æ–º—É –ø–ª–∞—á—É –≤ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö?",
          a: "patience",
        },
        {
          q: "–°—á–∏—Ç–∞–µ—à—å –ª–∏ —Ç—ã, —á—Ç–æ —É—Ö–æ–¥ –∑–∞ —Ä–µ–±–µ–Ω–∫–æ–º - —ç—Ç–æ –æ–±—â–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤?",
          a: "duty",
        },
        {
          q: "–ì–æ—Ç–æ–≤(–∞) –ª–∏ —Ç—ã –¥–µ–ª–∏—Ç—å —Å–≤–æ–µ –ª–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å –∫—É—á–µ–π –∏–≥—Ä—É—à–µ–∫?",
          a: "space",
        },
        {
          q: "–ú—ã—Å–ª—å –æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—Ä–∞–Ω–∏—è—Ö –≤–≥–æ–Ω—è–µ—Ç —Ç–µ–±—è –≤ —Ç–æ—Å–∫—É?",
          a: "meetings",
        },
        {
          q: "–°—á–∏—Ç–∞–µ—à—å –ª–∏ —Ç—ã —Å–≤–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ '–∞–Ω–≥–µ–ª—å—Å–∫–∏–º'?",
          a: "patience_level",
        },
        { q: "–í–∏–¥–∏—à—å –ª–∏ —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–µ–±—è –≤ –¥–µ—Ç—è—Ö?", a: "legacy" },
        {
          q: "–ì–æ—Ç–æ–≤(–∞) –ª–∏ —Ç—ã –Ω–µ —Å–ø–∞—Ç—å –Ω–æ—á–∞–º–∏ –∏–∑-–∑–∞ —Ä–µ–±–µ–Ω–∫–∞?",
          a: "sacrifice_sleep",
        },
        {
          q: "–û–±—Å—É–∂–¥–∞–µ—à—å –ª–∏ —Ç—ã —Ç–µ–º—É –¥–µ—Ç–µ–π —Å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å)?",
          a: "partner_kids",
        },
        {
          q: "–ú–µ—á—Ç–∞–µ—à—å –ª–∏ —Ç—ã –Ω–∞—É—á–∏—Ç—å —Å–≤–æ–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ —á–µ–º—É-—Ç–æ –≤–∞–∂–Ω–æ–º—É –¥–ª—è —Ç–µ–±—è?",
          a: "dream",
        },
        {
          q: "–ì–æ—Ç–æ–≤(–∞) –ª–∏ —Ç—ã –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –∫–∞—Ä—å–µ—Ä–Ω—ã–º —Ä–æ—Å—Ç–æ–º —Ä–∞–¥–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–µ—Ç –≤ –¥–µ–∫—Ä–µ—Ç–µ?",
          a: "career",
        },
      ];

      const answerOptions = {
        emotion: [
          { text: "–¢–µ–ø–ª–æ –∏ —Ä–∞–¥–æ—Å—Ç—å", points: 2 },
          { text: "–õ—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ", points: 1 },
          { text: "–õ–µ–≥–∫–æ–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ", points: -1 },
          { text: "–ü–∞–Ω–∏–∫—É", points: -2 },
        ],
        sacrifice: [
          { text: "–õ–µ–≥–∫–æ, —ç—Ç–æ –Ω–æ–≤—ã–π —ç—Ç–∞–ø", points: 2 },
          { text: "–ì–æ—Ç–æ–≤(–∞), –Ω–æ –±—É–¥—É —Å–∫—É—á–∞—Ç—å", points: 1 },
          { text: "–≠—Ç–æ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ", points: -1 },
          { text: "–ù–µ—Ç, —ç—Ç–æ –º–æ—è —Å–≤–æ–±–æ–¥–∞", points: -2 },
        ],
        skills: [
          { text: "–ö–æ–Ω–µ—á–Ω–æ, —è –º–∞—Å—Ç–µ—Ä –Ω–∞ –≤—Å–µ —Ä—É–∫–∏", points: 2 },
          { text: "–° –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π —Å–ø—Ä–∞–≤–ª—é—Å—å", points: 1 },
          { text: "–°–∫–æ—Ä–µ–µ –≤—ã–∑–æ–≤—É –º–∞—Å—Ç–µ—Ä–∞", points: -1 },
          { text: "–Ø –∏ –º–æ–ª–æ—Ç–æ–∫ - –≤–µ—â–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ", points: -2 },
        ],
        reaction: [
          { text: "–î–∞, —ç—Ç–æ –æ—á–µ–Ω—å –º–∏–ª–æ", points: 2 },
          { text: "–ò–Ω–æ–≥–¥–∞, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è", points: 1 },
          { text: "–°–∫–æ—Ä–µ–µ –±–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ", points: -1 },
          { text: "–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ", points: -2 },
        ],
        finance: [
          { text: "–î–∞, —è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ –≥–æ—Ç–æ–≤(–∞)", points: 2 },
          { text: "–ü—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –±—é–¥–∂–µ—Ç", points: 1 },
          { text: "–≠—Ç–æ —Å–µ—Ä—å–µ–∑–Ω—ã–π —É–¥–∞—Ä –ø–æ –∫–æ—à–µ–ª—å–∫—É", points: -1 },
          { text: "–ê–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ –≥–æ—Ç–æ–≤(–∞)", points: -2 },
        ],
        weekend: [
          { text: "–û—Ç–ª–∏—á–Ω–æ–π –∏–¥–µ–µ–π!", points: 2 },
          { text: "–ù–æ—Ä–º–∞–ª—å–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º", points: 1 },
          { text: "–ü—ã—Ç–∫–æ–π", points: -1 },
          { text: "–•—É–¥—à–∏–º –∫–æ—à–º–∞—Ä–æ–º", points: -2 },
        ],
        patience: [
          { text: "–î–∞, —è –æ—á–µ–Ω—å —Ç–µ—Ä–ø–µ–ª–∏–≤—ã–π(–∞—è)", points: 2 },
          { text: "–°—Ç–∞—Ä–∞—é—Å—å –±—ã—Ç—å —Å–ø–æ–∫–æ–π–Ω—ã–º(–æ–π)", points: 1 },
          { text: "–ú–µ–Ω—è —ç—Ç–æ –Ω–µ–º–Ω–æ–≥–æ –Ω–∞–ø—Ä—è–≥–∞–µ—Ç", points: -1 },
          { text: "–Ø –Ω–∞—á–∏–Ω–∞—é –Ω–µ—Ä–≤–Ω–∏—á–∞—Ç—å", points: -2 },
        ],
        duty: [
          { text: "–ë–µ–∑—É—Å–ª–æ–≤–Ω–æ, —ç—Ç–æ –æ–±—â–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å", points: 2 },
          { text: "–ï—Å–ª–∏ –ø—Ä–∏–¥–µ—Ç—Å—è, —Ç–æ –¥–∞", points: 1 },
          { text: "–ü—Ä–µ–¥–ø–æ—á–µ–ª(–ª–∞) –±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ", points: -1 },
          { text: "–≠—Ç–æ –Ω–µ –º–æ—è –∑–∞–±–æ—Ç–∞", points: -2 },
        ],
        space: [
          { text: "–î–∞, —ç—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —É—é—Ç", points: 2 },
          { text: "–ü—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å", points: 1 },
          { text: "–ú–æ–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º –ø–æ—Å—Ç—Ä–∞–¥–∞–µ—Ç", points: -1 },
          { text: "–ù–µ—Ç, —è —Ü–µ–Ω—é –ø–æ—Ä—è–¥–æ–∫", points: -2 },
        ],
        meetings: [
          { text: "–ù–µ—Ç, —ç—Ç–æ –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–∞", points: 2 },
          { text: "–ù–µ –æ—á–µ–Ω—å, –Ω–æ —á—Ç–æ –ø–æ–¥–µ–ª–∞—Ç—å", points: 1 },
          { text: "–î–∞, –∑–≤—É—á–∏—Ç —É–Ω—ã–ª–æ", points: -1 },
          { text: "–≠—Ç–æ –º–æ–π –ª–∏—á–Ω—ã–π –∞–¥", points: -2 },
        ],
        patience_level: [
          { text: "–î–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ", points: 2 },
          { text: "50/50, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏", points: 1 },
          { text: "–°–∫–æ—Ä–µ–µ –Ω–µ—Ç, —è –≤—Å–ø—ã–ª—å—á–∏–≤—ã–π(–∞—è)", points: -1 },
          { text: "–¢–æ—á–Ω–æ –Ω–µ—Ç", points: -2 },
        ],
        legacy: [
          { text: "–î–∞, —ç—Ç–æ —Å–º—ã—Å–ª –∂–∏–∑–Ω–∏", points: 2 },
          { text: "–û—Ç—á–∞—Å—Ç–∏, —ç—Ç–æ –ø—Ä–∏—è—Ç–Ω–æ", points: 1 },
          { text: "–ù–µ –∑–∞–¥—É–º—ã–≤–∞–ª—Å—è(–∞—Å—å)", points: 0 },
          { text: "–ù–µ—Ç, —è –∂–∏–≤—É –¥–ª—è —Å–µ–±—è", points: -2 },
        ],
        sacrifice_sleep: [
          { text: "–î–∞, —è –≥–æ—Ç–æ–≤(–∞) –∫ —ç—Ç–æ–º—É", points: 2 },
          { text: "–ë—É–¥–µ—Ç —Ç—è–∂–µ–ª–æ, –Ω–æ —è —Å–ø—Ä–∞–≤–ª—é—Å—å", points: 1 },
          { text: "–ù–∞–¥–µ—é—Å—å, —ç—Ç–æ–≥–æ –Ω–µ —Å–ª—É—á–∏—Ç—Å—è", points: -1 },
          { text: "–ù–µ—Ç, —Å–æ–Ω –¥–ª—è –º–µ–Ω—è —Å–≤—è—Ç–æ–µ", points: -2 },
        ],
        partner_kids: [
          { text: "–î–∞, –º—ã –æ–±–∞ —ç—Ç–æ–≥–æ —Ö–æ—Ç–∏–º", points: 2 },
          { text: "–ò–Ω–æ–≥–¥–∞ –æ–±—Å—É–∂–¥–∞–µ–º, –Ω–æ –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏", points: 1 },
          { text: "–£ –º–µ–Ω—è —Å–µ–π—á–∞—Å –Ω–µ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞", points: 0 },
          { text: "–£ –Ω–∞—Å —Ä–∞–∑–Ω—ã–µ –≤–∑–≥–ª—è–¥—ã –Ω–∞ —ç—Ç–æ", points: -1 },
        ],
        dream: [
          { text: "–î–∞, —ç—Ç–æ –º–µ—á—Ç–∞!", points: 2 },
          { text: "–≠—Ç–æ –±—ã–ª–æ –±—ã –º–∏–ª–æ", points: 1 },
          { text: "–ù–µ –¥—É–º–∞–ª(–∞) –æ–± —ç—Ç–æ–º", points: 0 },
          { text: "–ó–≤—É—á–∏—Ç –∫–∞–∫ –±–æ–ª—å—à–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", points: -1 },
        ],
        career: [
          { text: "–î–∞, —Å–µ–º—å—è –≤–∞–∂–Ω–µ–µ", points: 2 },
          { text: "–≠—Ç–æ —Å–ª–æ–∂–Ω—ã–π –≤—ã–±–æ—Ä, –Ω–æ —è –≥–æ—Ç–æ–≤(–∞)", points: 1 },
          { text: "–ü–æ—Å—Ç–∞—Ä–∞—é—Å—å —Å–æ–≤–º–µ—â–∞—Ç—å", points: -1 },
          { text: "–ù–µ—Ç, –∫–∞—Ä—å–µ—Ä–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ", points: -2 },
        ],
      };

      const testContainer = document.getElementById("test-container");
      const resultsContainer = document.getElementById("results-container");
      const form = document.getElementById("children-test-form");

      let answeredQuestions = 0;

      // --- Lenis Smooth Scroll Initialization ---
      const lenis = new Lenis({
        lerp: 0.07,
        smoothWheel: true,
      });

      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      function startTest() {
        testContainer.classList.add("fade-in");
        renderQuestions();
      }

      function updateProgress() {
        const progress = (answeredQuestions / questions.length) * 100;
        document.getElementById("progress-fill").style.width = progress + "%";
      }

      function renderQuestions() {
        form.innerHTML = "";
        questions.forEach((qData, index) => {
          const block = document.createElement("div");
          block.className = "question-block fade-in";
          block.style.animationDelay = `${index * 0.05}s`;

          const questionText = document.createElement("p");
          questionText.className = "font-medium text-lg text-gray-100 mb-4";
          questionText.textContent = `${index + 1}. ${qData.q}`;
          block.appendChild(questionText);

          const optionsContainer = document.createElement("div");
          optionsContainer.className =
            "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3";

          const currentAnswerSet = answerOptions[qData.a];

          currentAnswerSet.forEach((opt) => {
            const label = document.createElement("label");
            label.className =
              "option-card p-4 rounded-xl text-center cursor-pointer flex items-center justify-center min-h-[60px]";
            const radio = document.createElement("input");
            radio.type = "radio";
            radio.name = `q${index}`;
            radio.value = opt.points;
            radio.required = true;
            label.appendChild(radio);
            label.append(opt.text);
            optionsContainer.appendChild(label);
          });

          block.appendChild(optionsContainer);
          form.appendChild(block);
        });
      }

      form.addEventListener("change", (e) => {
        if (e.target.type === "radio") {
          const container = e.target.closest(".grid");
          container
            .querySelectorAll(".option-card")
            .forEach((card) => card.classList.remove("selected"));
          e.target.parentElement.classList.add("selected");

          const questionBlock = e.target.closest(".question-block");
          if (!questionBlock.hasAttribute("data-answered")) {
            questionBlock.setAttribute("data-answered", "true");
            answeredQuestions++;
            updateProgress();
          }
        }
      });

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (answeredQuestions < questions.length) {
          const unansweredBlock = form.querySelector(
            ".question-block:not([data-answered])"
          );
          if (unansweredBlock) {
            lenis.scrollTo(unansweredBlock, { offset: -150 });
          }
          return;
        }
        const score = calculateScore();
        renderResults(score);
      });

      function calculateScore() {
        const formData = new FormData(form);
        let totalScore = 0;
        for (let i = 0; i < questions.length; i++) {
          const value = formData.get(`q${i}`);
          if (value !== null) {
            totalScore += parseInt(value, 10);
          }
        }
        return totalScore;
      }

      function renderResults(score) {
        testContainer.classList.add("fade-out");
        testContainer.addEventListener(
          "animationend",
          () => {
            testContainer.classList.add("hidden");
            resultsContainer.classList.remove("hidden");
            resultsContainer.classList.add("fade-in");
            lenis.scrollTo(0);
          },
          { once: true }
        );

        const titleEl = document.getElementById("result-title");
        const descriptionEl = document.getElementById("result-description");
        const timelineContainer = document.getElementById("timeline-container");
        timelineContainer.innerHTML = "";

        let resultData;

        if (score > 15) {
          resultData = {
            title: "–ë–æ–ª—å—à–∞—è –∏ –¥—Ä—É–∂–Ω–∞—è —Å–µ–º—å—è (3+ —Ä–µ–±–µ–Ω–∫–∞)",
            description:
              "–í—ã –æ–±–ª–∞–¥–∞–µ—Ç–µ –æ–≥—Ä–æ–º–Ω—ã–º –∑–∞–ø–∞—Å–æ–º –ª—é–±–≤–∏, —Ç–µ—Ä–ø–µ–Ω–∏—è –∏ —ç–Ω–µ—Ä–≥–∏–∏. –í–∞—à–µ –ø—Ä–∏–∑–≤–∞–Ω–∏–µ ‚Äî –±—ã—Ç—å –≤ —Ü–µ–Ω—Ç—Ä–µ –±–æ–ª—å—à–æ–π, —à—É–º–Ω–æ–π –∏ –≤–µ—Å–µ–ª–æ–π —Å–µ–º—å–∏. –í–∞—Å –∂–¥—É—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –¥–µ—Ç—Å–∫–∏–º —Å–º–µ—Ö–æ–º –∏ —Ç–æ–ø–æ—Ç–æ–º –º–∞–ª–µ–Ω—å–∫–∏—Ö –Ω–æ–∂–µ–∫.",
            timeline: [
              { age: "25-28 –ª–µ—Ç", event: "–°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è", icon: "üíç" },
              { age: "28-30 –ª–µ—Ç", event: "–ü–µ—Ä–≤—ã–π —Ä–µ–±–µ–Ω–æ–∫", icon: "üë∂" },
              { age: "31-33 –≥–æ–¥–∞", event: "–í—Ç–æ—Ä–æ–π —Ä–µ–±–µ–Ω–æ–∫", icon: "üëß" },
              { age: "35+ –ª–µ—Ç", event: "–í–æ–∑–º–æ–∂–Ω–æ, –∏ —Ç—Ä–µ—Ç–∏–π!", icon: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶" },
            ],
          };
        } else if (score > -5) {
          resultData = {
            title: "–ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ (1-2 —Ä–µ–±–µ–Ω–∫–∞)",
            description:
              "–í—ã —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –±–∞–ª–∞–Ω—Å—É –º–µ–∂–¥—É —Ä–æ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–æ–º –∏ –ª–∏—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π. –í–∞—à–∞ —Å–µ–º—å—è –±—É–¥–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–æ–π, –Ω–æ –æ—Ç —ç—Ç–æ–≥–æ –Ω–µ –º–µ–Ω–µ–µ —Å—á–∞—Å—Ç–ª–∏–≤–æ–π. –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞.",
            timeline: [
              { age: "28-33 –≥–æ–¥–∞", event: "–°–µ—Ä—å–µ–∑–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è", icon: "üíç" },
              { age: "30-35 –ª–µ—Ç", event: "–ü–µ—Ä–≤—ã–π —Ä–µ–±–µ–Ω–æ–∫", icon: "üë∂" },
              { age: "33-38 –ª–µ—Ç", event: "–í–æ–∑–º–æ–∂–Ω–æ, –≤—Ç–æ—Ä–æ–π", icon: "üéØ" },
              { age: "40+ –ª–µ—Ç", event: "–ì–∞—Ä–º–æ–Ω–∏—á–Ω–∞—è —Å–µ–º—å—è", icon: "‚ú®" },
            ],
          };
        } else {
          resultData = {
            title: "–°–≤–æ–±–æ–¥–∞ –∏ —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ (0-1 —Ä–µ–±–µ–Ω–æ–∫)",
            description:
              "–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ –∂–∏–∑–Ω–∏ –≤—ã –±–æ–ª—å—à–µ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–∞—Ä—å–µ—Ä–µ –∏ –ø–æ–∑–Ω–∞–Ω–∏–∏ –º–∏—Ä–∞. –î–µ—Ç–∏ –º–æ–≥—É—Ç –Ω–µ –±—ã—Ç—å –≤–∞—à–∏–º –≥–ª–∞–≤–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º, –∏ —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –Ω–∞–π–¥–µ—Ç–µ —Å–≤–æ–µ —Å—á–∞—Å—Ç—å–µ –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–µ –∏–ª–∏ —Å—Ç–∞–Ω–µ—Ç–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º —Ä–æ–¥–∏—Ç–µ–ª–µ–º –¥–ª—è –ø—É—à–∏—Å—Ç–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞.",
            timeline: [
              { age: "25-35 –ª–µ—Ç", event: "–ö–∞—Ä—å–µ—Ä–∞ –∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", icon: "‚úàÔ∏è" },
              { age: "35-40 –ª–µ—Ç", event: "–°—Ç–∞–±–∏–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è", icon: "‚ù§Ô∏è" },
              { age: "40+ –ª–µ—Ç", event: "–í–æ–∑–º–æ–∂–Ω–æ, –æ–¥–∏–Ω —Ä–µ–±–µ–Ω–æ–∫", icon: "ü§î" },
              {
                age: "–í –ª—é–±–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ",
                event: "–°—á–∞—Å—Ç—å–µ –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å —Å–æ–±–æ–π",
                icon: "üßò",
              },
            ],
          };
        }

        titleEl.textContent = resultData.title;
        descriptionEl.textContent = resultData.description;

        resultData.timeline.forEach((item, index) => {
          const timelineItem = document.createElement("div");
          timelineItem.className = "timeline-item";
          timelineItem.style.animationDelay = `${index * 0.2}s`;
          timelineItem.innerHTML = `
                <div class="text-5xl mb-4">${item.icon}</div>
                <h4 class="font-bold text-lg">${item.age}</h4>
                <p class="text-gray-400">${item.event}</p>
            `;
          timelineContainer.appendChild(timelineItem);
        });
      }

      document.addEventListener("DOMContentLoaded", startTest);
    </script>
  </body>
</html>
